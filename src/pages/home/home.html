<ion-header>
  <ion-navbar>
    <ion-row>

      <ion-col>
        <button ion-button menuToggle icon-left clear small>
          <ion-icon color="dark" name="menu"></ion-icon>
        </button>
      </ion-col>
      <ion-col left>
        <p>VirtualAssistant</p>
      </ion-col>

    </ion-row>

  </ion-navbar>
</ion-header>

<ion-menu [content]="content">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <button ion-item block color="dark" (click)="goToAddTask()">Adicionar tarefa</button>
      <button ion-item block color="danger" (click)="logout()">Sair</button>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-nav id="nav" #content [root]="rootPage"></ion-nav>

<ion-content padding>

  <ion-list>

    <ion-card *ngFor="let task of tasks | async">
      <ion-item class="card-body">
        <ion-avatar item-start>
          <ion-icon color="dark" name="list"></ion-icon>
        </ion-avatar>
        <h4>{{ task.name }}</h4>
        <p>{{ task.date | date: "dd/MM/yyyy"}}</p>
        <span class="status pause" [hidden]="task.status != 'pause'">Pendente</span>
        <span class="status done" [hidden]="task.status != 'ok'">ConcluÃ­da</span>
      </ion-item>

      <ion-card-content class="card-body">
        <p>{{ task.desc }}</p>
      </ion-card-content>

      <ion-row class="card-footer">
        <ion-col center text-center small>
          <button center ion-button icon-left clear small (click)="changeStatus(task.key, task.name, task.desc, task.date, 'ok')">
            <ion-icon color="dark" name="checkmark"></ion-icon>
          </button>
        </ion-col>
        <ion-col center text-center small>
          <button ion-button icon-left clear small>
            <ion-icon color="dark" name="more"></ion-icon>
          </button>
        </ion-col>
        <ion-col center text-center small>
          <button center ion-button icon-left clear small (click)="changeStatus(task.key, task.name, task.desc, task.date, 'pause')">
            <ion-icon color="dark" name="close"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-card>

  </ion-list>
</ion-content>
